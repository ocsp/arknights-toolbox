(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.level"],{"57a6":function(t,e,i){},"5c6d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 1<=t.t&&t.t<=6?i("img",{staticClass:"no-pe item-t",attrs:{src:t.$root.materialImage("T"+t.t),crossorigin:"anonymous"}}):t._e()},n=[],l=(i("a9e3"),{name:"arkn-item-t",props:{t:[Number,String]}}),s=l,r=(i("e7a1"),i("0c7c")),u=Object(r["a"])(s,a,n,!1,null,"0b560d48",null);e["a"]=u.exports},"5d06":function(t,e,i){},"5fa4":function(t,e,i){},"73e0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"arkn-level"}},[i("div",{staticClass:"mdui-row"},[i("div",{staticClass:"mdui-col-md-5"},[i("table",{staticClass:"mdui-table tag-table"},[i("tbody",[i("tr",[i("td",{attrs:{width:"1"}}),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.stars")))]),i("mdui-select-num",{attrs:{options:t.l.range(6,0)},on:{change:t.updateSelect},model:{value:t.inputs.star,callback:function(e){t.$set(t.inputs,"star",e)},expression:"inputs.star"}})],1),i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.经验本")))]),i("span",[t._v("LS-5")])]),i("div",{staticClass:"with-label"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.金币本")))]),i("span",[t._v("CE-5")])])])]),i("tr",[i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.current")))])]),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),i("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(0,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.current.elite,callback:function(e){t.$set(t.inputs.current,"elite",e)},expression:"inputs.current.elite"}})],1),i("div",{staticClass:"mdui-m-r-2 input-with-button"},[i("mdui-number-input",{model:{value:t.inputs.current.level,callback:function(e){t.$set(t.inputs.current,"level",t._n(e))},expression:"inputs.current.level"}},[t._v(t._s(t.$t("common.level")))]),i("button",{staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-text-color-pink-accent mdui-p-x-1",on:{click:function(e){t.inputs.current.level=999}}},[t._v(t._s(t.$t("common.max")))])],1),i("mdui-number-input",{staticStyle:{width:"80px"},model:{value:t.inputs.current.exp,callback:function(e){t.$set(t.inputs.current,"exp",t._n(e))},expression:"inputs.current.exp"}},[t._v(t._s(t.$t("common.exp")))])],1)]),i("tr",[i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.target")))])]),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),i("mdui-select-num",{staticClass:"select-need-update",attrs:{options:t.l.range(t.inputs.current.elite,t.maxElite[t.inputs.star-1]+1)},on:{change:t.updateSelect},model:{value:t.inputs.target.elite,callback:function(e){t.$set(t.inputs.target,"elite",e)},expression:"inputs.target.elite"}})],1),i("div",{staticClass:"input-with-button"},[i("mdui-number-input",{model:{value:t.inputs.target.level,callback:function(e){t.$set(t.inputs.target,"level",t._n(e))},expression:"inputs.target.level"}},[t._v(t._s(t.$t("common.level")))]),i("button",{staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-text-color-pink-accent mdui-p-x-1",on:{click:function(e){t.inputs.target.level=999}}},[t._v(t._s(t.$t("common.max")))])],1)])]),i("tr",[i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-btn-dense mdui-color-teal no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.have")))])]),i("td",{staticClass:"mdui-valign",style:{marginRight:"-16px",marginBottom:"-8px"}},[t._l(t.l.range(5,1),(function(e){return i("div",{key:"have-"+e,staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:e,img:"E-"+e+"-1"}}),i("mdui-number-input",{staticClass:"exp-input",model:{value:t.inputs.have[e],callback:function(i){t.$set(t.inputs.have,e,t._n(i))},expression:"inputs.have[i]"}},[t._v(t._s(t.$t("item."+t.expId[e-2])))])],1)})),i("div",{staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:"4",img:"G-4-1"}}),i("mdui-number-input",{staticClass:"exp-input",staticStyle:{width:"80px"},model:{value:t.inputs.money,callback:function(e){t.$set(t.inputs,"money",t._n(e))},expression:"inputs.money"}},[t._v(t._s(t.$t("item.4001")))])],1)],2)]),i("tr",[i("td",{attrs:{width:"1"}},[i("button",{staticClass:"mdui-btn mdui-ripple mdui-btn-dense mdui-color-red tag-btn tag-table-header",on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))])])])])])]),i("div",{staticClass:"mdui-col-md-7 mdui-p-x-2 mdui-typo"},[i("h2",{staticClass:"mdui-hidden-sm-down mdui-m-t-0"},[t._v(t._s(t.$tt("level.至少需要")))]),i("h2",{staticClass:"mdui-hidden-md-up"},[t._v(t._s(t.$tt("level.至少需要")))]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"5",img:"EO-4-1",lable:t.$t("common.exp"),num:t.result.exp}}),i("arkn-num-item",{staticClass:"mdui-m-r-0",attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001")+"("+t.$t("common.total")+")",num:t.result.cost}}),t.inputs.money?i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001")+"("+t.$t("common.lack")+")",num:t.ge0(t.result.cost-t.inputs.money)}}):t._e()],1),i("h2",[t._v(t._s(t.$tt("level.物资筹备")))]),i("h3",{staticClass:"mdui-m-t-0"},[t._v("LS-5 "),i("small",[t._v("× "+t._s(t.result.ls5))])]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"0",img:"AP",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ls5}}),t._l([5,4,3],(function(e){return i("arkn-num-item",{key:"ls5-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.$t("item."+t.expId[e-2]),num:t.result.ls5*t.LS5.drop[e]}})})),i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001"),num:t.result.ls5*t.LS5.money}})],2),i("h3",[t._v("CE-5 "),i("small",[t._v("× "+t._s(t.result.ce5))])]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"0",img:"AP",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ce5}}),i("arkn-num-item",{attrs:{t:"4",img:"G-4-1",lable:t.$t("item.4001"),num:t.result.ce5*t.CE5.money}})],1),i("h2",[t._v(t._s(t.$tt("level.预计消耗"))+" "),i("small",[t._v(t._s(t.$t("common.need"))+" / "+t._s(t.$t("common.have")))])]),i("div",{staticClass:"num-item-list"},t._l([5,4,3,2],(function(e){return i("arkn-num-item",{key:"num-item-"+e,attrs:{t:e,img:"E-"+e+"-1",lable:t.$t("item."+t.expId[e-2]),num:t.result.use[e]+" / "+t.result.have[e]}})})),1)])])])},n=[],l=(i("a4d3"),i("e01a"),i("d28b"),i("d81d"),i("d3b7"),i("07ac"),i("3ca3"),i("ddb0"),i("8679")),s=i("b4ac"),r=i("60bb"),u=i.n(r),m=i("9a9a"),c={5:2e3,4:1e3,3:400,2:200},o={exp:7400,drop:{5:3,4:1,3:1,2:0},money:360},d={money:7500},p={star:6,current:{elite:0,level:1,exp:0},target:{elite:0,level:1},have:{5:0,4:0,3:0,2:0},money:0};function v(t){return Math.max(t,0)}var b={name:"arkn-level",components:{ArknItem:l["a"],ArknNumItem:s["a"]},data:function(){return{l:u.a,inputs:u.a.cloneDeep(p),expId:["2001","2002","2003","2004"],maxElite:u.a.map(m["c"],(function(t){return t.length})),maxLevel:m["d"],LS5:o,CE5:d}},watch:{inputs:{handler:function(t){for(var e=t.star,i=t.current,a=0,n=["current","target"];a<n.length;a++){var l=n[a],s="".concat(l,".level"),r=u.a.get(t,s);if(""!==r){var c=m["d"][e-1][t[l].elite];r<1?u.a.set(t,s,1):r>c&&u.a.set(t,s,c)}}if(i.exp){i.exp<0&&(i.exp=0);var o=m["a"][i.elite][(i.level||1)-1]||1;i.exp>=o&&(i.exp=o-1)}u.a.each(t.have,(function(t,e,i){t&&t<0&&(i[e]=0)})),localStorage.setItem("level.inputs",JSON.stringify(t))},deep:!0}},computed:{result:function(){var t=this.inputs,e=t.star,i=t.current,a=t.target,n=t.have,l=t.money,s=m["d"][e-1],r=u.a.sum(u.a.map(n,(function(t,e){return t*c[e]}))),p=0,b=0,h=[],f={5:0,4:0,3:0,2:0};if(a.elite>i.elite||a.level>i.level){var g=m["a"][i.elite][i.level-1];if(g){var _=g-i.exp,x=_/g*m["b"][i.elite][i.level-1];p+=_,b+=x}for(var C=i.elite;C<=a.elite;C++,h.push(p)){C>i.elite&&(b+=m["c"][e-1][C-1]);for(var $=C==a.elite?a.level:s[C],k=C==i.elite?i.level+1:1;k<$;k++)p+=m["a"][C][k-1],b+=m["b"][C][k-1]}}var w=v(Math.ceil((p-r)/o.exp));if(h.length>0){u.a.forEachRight(h,(function(t,e,i){e>0&&(i[e]-=i[e-1])}));var y=u.a.mapValues(o.drop,(function(t,e){return n[e]+t*w})),S=!0,E=!1,A=void 0;try{for(var I,N=h[Symbol.iterator]();!(S=(I=N.next()).done);S=!0){var L=I.value;while(L>0){0==u.a.sum(Object.values(y))&&(w++,y=u.a.cloneDeep(o.drop));for(var O=5;O>=2;O--)while(L>=c[O]&&y[O]>0)f[O]++,y[O]--,L-=c[O];for(var G=2;G<=5;G++)while(L>0&&y[G]>0)f[G]++,y[G]--,L-=c[G]}}}catch(P){E=!0,A=P}finally{try{S||null==N.return||N.return()}finally{if(E)throw A}}}var M=v(Math.ceil((b-w*o.money-l)/d.money));return{exp:p,cost:Math.ceil(b),ls5:w,ce5:M,use:f,have:u.a.mapValues(o.drop,(function(t,e){return n[e]+t*w}))}}},methods:{ge0:v,updateSelect:function(){var t=this,e=this.inputs,i=e.star,a=e.current,n=e.target,l=this.maxElite[i-1];a.elite>l&&(a.elite=l),n.elite>l&&(n.elite=l),a.elite>n.elite&&(n.elite=a.elite),this.$nextTick((function(){return t.$$(".select-need-update").each((function(e,i){return new t.$Select(i).handleUpdate()}))}))},reset:function(){var t=this;this.inputs=u.a.cloneDeep(p),this.$nextTick((function(){return t.$$(".select-need-update").each((function(e,i){return new t.$Select(i).handleUpdate()}))}))}},created:function(){var t=localStorage.getItem("level.inputs");t&&(this.inputs=JSON.parse(t))}},h=b,f=(i("840d"),i("0c7c")),g=Object(f["a"])(h,a,n,!1,null,null,null);e["default"]=g.exports},"840d":function(t,e,i){"use strict";var a=i("57a6"),n=i.n(a);n.a},8679:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"arkn-item no-sl mdui-m-r-1 mdui-valign"},[i("arkn-item-t",{attrs:{t:t.t}}),i("div",{staticClass:"mdui-valign item-img-div",style:"width:"+t.width+"px;height:"+t.width+"px"},[i("img",{staticClass:"no-pe item-img",style:"transform:scale("+t.scale+")",attrs:{src:t.$root.materialImage(t.img),crossorigin:"anonymous"}})])],1)},n=[],l=(i("a9e3"),i("5c6d")),s={name:"arkn-item",components:{ArknItemT:l["a"]},computed:{scale:function(){return this.width/180}},props:{t:[Number,String],img:String,width:{type:Number,default:48}}},r=s,u=(i("da3e"),i("0c7c")),m=Object(u["a"])(r,a,n,!1,null,"49a764eb",null);e["a"]=m.exports},b1a4:function(t,e,i){},b4ac:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"num-item"},[i("div",{staticClass:"mdui-valign"},[i("arkn-item",{attrs:{t:t.calcT,img:t.img,width:t.width}}),i("div",{staticClass:"with-label"},[i("label",{class:"mdui-textfield-label mdui-text-truncate "+t.calcColor},[t._v(t._s(t.lable))]),"undefined"!=typeof t.num?i("span",{class:t.calcColor},[t._v(t._s(t.num))]):i("span",{class:t.calcColor},[t._t("default")],2)])],1)])},n=[],l=(i("a9e3"),i("ac1f"),i("8679")),s={name:"arkn-num-item",components:{ArknItem:l["a"]},computed:{calcT:function(){if(this.t)return this.t;var t=/-(.+)-/.exec(this.img);return!!t&&t[1]},calcColor:function(){return this.color?this.color:""}},props:{t:[Number,String],img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean]}},r=s,u=(i("b7b1"),i("0c7c")),m=Object(u["a"])(r,a,n,!1,null,null,null);e["a"]=m.exports},b7b1:function(t,e,i){"use strict";var a=i("5fa4"),n=i.n(a);n.a},da3e:function(t,e,i){"use strict";var a=i("b1a4"),n=i.n(a);n.a},e7a1:function(t,e,i){"use strict";var a=i("5d06"),n=i.n(a);n.a}}]);